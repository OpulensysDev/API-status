<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulação de Sistema Operacional Avançado</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        #desktop {
            background-image: url('https://source.unsplash.com/random/1920x1080?nature');
            background-size: cover;
            height: 100vh;
            position: relative;
        }
        #taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            padding: 0 10px;
            z-index: 1000;
        }
        #start-menu {
            color: white;
            font-size: 20px;
            cursor: pointer;
            margin-right: 10px;
        }
        #clock {
            color: white;
            margin-left: auto;
        }
        .icon {
            width: 80px;
            height: 80px;
            margin: 10px;
            text-align: center;
            color: white;
            cursor: pointer;
            display: inline-block;
            vertical-align: top;
        }
        .icon i {
            font-size: 40px;
            margin-bottom: 5px;
        }
        .icon-text {
            font-size: 12px;
            word-wrap: break-word;
        }
        .window {
            position: absolute;
            width: 600px;
            height: 400px;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 100;
        }
        .window-header {
            background-color: #007bff;
            color: white;
            padding: 5px 10px;
            cursor: move;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .window-title {
            margin: 0;
            font-size: 16px;
        }
        .window-controls {
            display: flex;
        }
        .window-control {
            margin-left: 5px;
            cursor: pointer;
        }
        .window-content {
            padding: 10px;
            height: calc(100% - 35px);
            overflow: auto;
        }
        .close-btn {
            cursor: pointer;
        }
        #start-menu-content {
            position: fixed;
            bottom: 40px;
            left: 0;
            width: 250px;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            display: none;
            z-index: 1001;
        }
        .start-menu-item {
            padding: 10px;
            cursor: pointer;
        }
        .start-menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        #file-explorer .folder, #file-explorer .file {
            margin: 5px 0;
            cursor: pointer;
        }
        #file-explorer .folder:before {
            content: "\f07b";
            font-family: "Font Awesome 5 Free";
            margin-right: 5px;
        }
        #file-explorer .file:before {
            content: "\f15b";
            font-family: "Font Awesome 5 Free";
            margin-right: 5px;
        }
        #text-editor {
            width: 100%;
            height: 100%;
            border: none;
            resize: none;
        }
        #image-viewer img {
            max-width: 100%;
            max-height: 100%;
            display: block;
            margin: 0 auto;
        }
        #media-player video {
            width: 100%;
            height: calc(100% - 40px);
        }
        #media-controls {
            display: flex;
            justify-content: center;
            padding: 10px;
        }
        #media-controls button {
            margin: 0 5px;
        }
        #calculator-display {
            width: 100%;
            height: 50px;
            font-size: 24px;
            text-align: right;
            margin-bottom: 10px;
        }
        .calc-btn {
            width: 50px;
            height: 50px;
            font-size: 18px;
            margin: 2px;
        }
        #browser-controls {
            display: flex;
            margin-bottom: 10px;
        }
        #url-bar {
            flex-grow: 1;
            margin-right: 5px;
        }
        #browser-frame {
            width: 100%;
            height: calc(100% - 40px);
            border: none;
        }
        #terminal-output {
            height: calc(100% - 30px);
            overflow-y: auto;
            background-color: black;
            color: #00ff00;
            font-family: monospace;
            padding: 5px;
        }
        #terminal-input {
            width: 100%;
            background-color: black;
            color: #00ff00;
            font-family: monospace;
            border: none;
            outline: none;
        }
        #paint-canvas {
            border: 1px solid #000;
        }
        .color-picker {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }
        .color-option {
            width: 20px;
            height: 20px;
            margin: 2px;
            cursor: pointer;
        }
        #task-list {
            list-style-type: none;
            padding: 0;
        }
        .task-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px;
            border-bottom: 1px solid #ccc;
        }
        .task-item button {
            margin-left: 10px;
        }
        #weather-info {
            text-align: center;
        }
        #weather-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }
        #pomodoro-timer {
            text-align: center;
            font-size: 24px;
        }
        #pomodoro-controls {
            margin-top: 10px;
        }
        #game-canvas {
            border: 1px solid #000;
        }
    </style>
</head>
<body>
    <div id="desktop">
        <div class="icon" data-app="file-explorer">
            <i class="fas fa-folder"></i>
            <div class="icon-text">Explorador de Arquivos</div>
        </div>
        <div class="icon" data-app="text-editor">
            <i class="fas fa-file-alt"></i>
            <div class="icon-text">Editor de Texto</div>
        </div>
        <div class="icon" data-app="image-viewer">
            <i class="fas fa-image"></i>
            <div class="icon-text">Visualizador de Imagens</div>
        </div>
        <div class="icon" data-app="media-player">
            <i class="fas fa-play-circle"></i>
            <div class="icon-text">Media Player</div>
        </div>
        <div class="icon" data-app="calculator">
            <i class="fas fa-calculator"></i>
            <div class="icon-text">Calculadora</div>
        </div>
        <div class="icon" data-app="browser">
            <i class="fas fa-globe"></i>
            <div class="icon-text">Navegador</div>
        </div>
        <div class="icon" data-app="terminal">
            <i class="fas fa-terminal"></i>
            <div class="icon-text">Terminal</div>
        </div>
        <div class="icon" data-app="paint">
            <i class="fas fa-paint-brush"></i>
            <div class="icon-text">Paint</div>
        </div>
        <div class="icon" data-app="todo">
            <i class="fas fa-tasks"></i>
            <div class="icon-text">Lista de Tarefas</div>
        </div>
        <div class="icon" data-app="weather">
            <i class="fas fa-cloud-sun"></i>
            <div class="icon-text">Previsão do Tempo</div>
        </div>
        <div class="icon" data-app="pomodoro">
            <i class="fas fa-clock"></i>
            <div class="icon-text">Pomodoro Timer</div>
        </div>
        <div class="icon" data-app="game">
            <i class="fas fa-gamepad"></i>
            <div class="icon-text">Jogo</div>
        </div>
    </div>

    <div id="taskbar">
        <div id="start-menu"><i class="fas fa-bars"></i></div>
        <div id="open-windows"></div>
        <div id="clock"></div>
    </div>

    <div id="start-menu-content">
        <div class="start-menu-item" data-app="file-explorer">Explorador de Arquivos</div>
        <div class="start-menu-item" data-app="text-editor">Editor de Texto</div>
        <div class="start-menu-item" data-app="image-viewer">Visualizador de Imagens</div>
        <div class="start-menu-item" data-app="media-player">Media Player</div>
        <div class="start-menu-item" data-app="calculator">Calculadora</div>
        <div class="start-menu-item" data-app="browser">Navegador</div>
        <div class="start-menu-item" data-app="terminal">Terminal</div>
        <div class="start-menu-item" data-app="paint">Paint</div>
        <div class="start-menu-item" data-app="todo">Lista de Tarefas</div>
        <div class="start-menu-item" data-app="weather">Previsão do Tempo</div>
        <div class="start-menu-item" data-app="pomodoro">Pomodoro Timer</div>
        <div class="start-menu-item" data-app="game">Jogo</div>
    </div>

    <div id="file-explorer" class="window">
        <div class="window-header">
            <h3 class="window-title">Explorador de Arquivos</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <div class="folder">Documentos</div>
            <div class="folder">Imagens</div>
            <div class="folder">Músicas</div>
            <div class="folder">Vídeos</div>
            <div class="file">arquivo1.txt</div>
            <div class="file">arquivo2.docx</div>
            <div class="file">imagem.jpg</div>
            <div class="file">musica.mp3</div>
            <div class="file">video.mp4</div>
        </div>
    </div>

    <div id="text-editor" class="window">
        <div class="window-header">
            <h3 class="window-title">Editor de Texto</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <textarea id="text-editor-content" placeholder="Digite seu texto aqui..."></textarea>
        </div>
    </div>

    <div id="image-viewer" class="window">
        <div class="window-header">
            <h3 class="window-title">Visualizador de Imagens</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <img src="https://source.unsplash.com/random/800x600" alt="Imagem aleatória">
        </div>
    </div>

    <div id="media-player" class="window">
        <div class="window-header">
            <h3 class="window-title">Media Player</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <video id="video-player" controls>
                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                Seu navegador não suporta o elemento de vídeo.
            </video>
            <div id="media-controls">
                <button id="play-pause">Play/Pause</button>
                <button id="stop">Stop</button>
                <input type="range" id="volume" min="0" max="1" step="0.1" value="1">
            </div>
        </div>
    </div>

    <div id="calculator" class="window">
        <div class="window-header">
            <h3 class="window-title">Calculadora</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <input type="text" id="calculator-display" readonly>
            <div>
                <button class="calc-btn" onclick="appendToDisplay('7')">7</button>
                <button class="calc-btn" onclick="appendToDisplay('8')">8</button>
                <button class="calc-btn" onclick="appendToDisplay('9')">9</button>
                <button class="calc-btn" onclick="appendToDisplay('+')">+</button>
            </div>
            <div>
                <button class="calc-btn" onclick="appendToDisplay('4')">4</button>
                <button class="calc-btn" onclick="appendToDisplay('5')">5</button>
                <button class="calc-btn" onclick="appendToDisplay('6')">6</button>
                <button class="calc-btn" onclick="appendToDisplay('-')">-</button>
            </div>
            <div>
                <button class="calc-btn" onclick="appendToDisplay('1')">1</button>
                <button class="calc-btn" onclick="appendToDisplay('2')">2</button>
                <button class="calc-btn" onclick="appendToDisplay('3')">3</button>
                <button class="calc-btn" onclick="appendToDisplay('*')">*</button>
            </div>
            <div>
                <button class="calc-btn" onclick="appendToDisplay('0')">0</button>
                <button class="calc-btn" onclick="appendToDisplay('.')">.</button>
                <button class="calc-btn" onclick="calculateResult()">=</button>
                <button class="calc-btn" onclick="appendToDisplay('/')">/</button>
            </div>
            <div>
                <button class="calc-btn" onclick="clearDisplay()">C</button>
            </div>
        </div>
    </div>

    <div id="browser" class="window">
        <div class="window-header">
            <h3 class="window-title">Navegador</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <div id="browser-controls">
                <input type="text" id="url-bar" placeholder="Digite uma URL">
                <button onclick="loadURL()">Ir</button>
            </div>
            <iframe id="browser-frame"></iframe>
        </div>
    </div>

    <div id="terminal" class="window">
        <div class="window-header">
            <h3 class="window-title">Terminal</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <div id="terminal-output"></div>
            <input type="text" id="terminal-input" placeholder="Digite um comando...">
        </div>
    </div>

    <div id="paint" class="window">
        <div class="window-header">
            <h3 class="window-title">Paint</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <div class="color-picker">
                <div class="color-option" style="background-color: black;"></div>
                <div class="color-option" style="background-color: red;"></div>
                <div class="color-option" style="background-color: green;"></div>
                <div class="color-option" style="background-color: blue;"></div>
                <div class="color-option" style="background-color: yellow;"></div>
            </div>
            <canvas id="paint-canvas" width="500" height="300"></canvas>
        </div>
    </div>

    <div id="todo" class="window">
        <div class="window-header">
            <h3 class="window-title">Lista de Tarefas</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <input type="text" id="task-input" placeholder="Nova tarefa">
            <button onclick="addTask()">Adicionar</button>
            <ul id="task-list"></ul>
        </div>
    </div>

    <div id="weather" class="window">
        <div class="window-header">
            <h3 class="window-title">Previsão do Tempo</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <div id="weather-info">
                <div id="weather-icon"></div>
                <div id="temperature"></div>
                <div id="description"></div>
            </div>
        </div>
    </div>

    <div id="pomodoro" class="window">
        <div class="window-header">
            <h3 class="window-title">Pomodoro Timer</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <div id="pomodoro-timer">25:00</div>
            <div id="pomodoro-controls">
                <button onclick="startPomodoro()">Iniciar</button>
                <button onclick="pausePomodoro()">Pausar</button>
                <button onclick="resetPomodoro()">Reiniciar</button>
            </div>
        </div>
    </div>

    <div id="game" class="window">
        <div class="window-header">
            <h3 class="window-title">Jogo</h3>
            <div class="window-controls">
                <span class="window-control minimize-btn">&minus;</span>
                <span class="window-control maximize-btn">&#9633;</span>
                <span class="window-control close-btn">&times;</span>
            </div>
        </div>
        <div class="window-content">
            <canvas id="game-canvas" width="400" height="300"></canvas>
            <div>
                <button onclick="startGame()">Iniciar Jogo</button>
                <p>Use as setas do teclado para mover o jogador</p>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script>
        $(document).ready(function() {
            // Tornar as janelas arrastáveis, redimensionáveis e focalizáveis
            $(".window").draggable({
                handle: ".window-header",
                containment: "parent"
            }).resizable({
                minHeight: 200,
                minWidth: 200
            }).mousedown(function() {
                $(".window").css('z-index', 100);
                $(this).css('z-index', 101);
            });

            // Abrir aplicativos ao clicar nos ícones
            $(".icon, .start-menu-item").on("click", function() {
                const appId = $(this).data("app");
                openApp(appId);
            });

            // Fechar janelas
            $(".close-btn").on("click", function() {
                $(this).closest(".window").hide();
                updateTaskbar();
            });

            // Minimizar janelas
            $(".minimize-btn").on("click", function() {
                $(this).closest(".window").hide();
                updateTaskbar();
            });

            // Maximizar janelas
            $(".maximize-btn").on("click", function() {
                const window = $(this).closest(".window");
                if (window.hasClass("maximized")) {
                    window.removeClass("maximized").css({
                        width: "",
                        height: "",
                        top: "",
                        left: ""
                    });
                } else {
                    window.addClass("maximized").css({
                        width: "100%",
                        height: "calc(100% - 40px)",
                        top: "0",
                        left: "0"
                    });
                }
            });

            // Atualizar o relógio
            function updateClock() {
                $("#clock").text(moment().format("HH:mm:ss"));
            }
            setInterval(updateClock, 1000);
            updateClock();

            // Abrir/fechar menu iniciar
            $("#start-menu").on("click", function() {
                $("#start-menu-content").toggle();
            });

            // Fechar menu iniciar ao clicar fora dele
            $(document).on("click", function(event) {
                if (!$(event.target).closest("#start-menu, #start-menu-content").length) {
                    $("#start-menu-content").hide();
                }
            });

            // Inicializar o paint
            const canvas = document.getElementById('paint-canvas');
            const ctx = canvas.getContext('2d');
            let painting = false;
            let currentColor = 'black';

            $('.color-option').on('click', function() {
                currentColor = $(this).css('background-color');
            });

            canvas.addEventListener('mousedown', startPosition);
            canvas.addEventListener('mouseup', endPosition);
            canvas.addEventListener('mousemove', draw);

            function startPosition(e) {
                painting = true;
                draw(e);
            }

            function endPosition() {
                painting = false;
                ctx.beginPath();
            }

            function draw(e) {
                if (!painting) return;
                ctx.lineWidth = 5;
                ctx.lineCap = 'round';
                ctx.strokeStyle = currentColor;

                ctx.lineTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
                ctx.stroke();
                ctx.beginPath();
                ctx.moveTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);
            }

            // Inicializar o terminal
            const terminalOutput = document.getElementById('terminal-output');
            const terminalInput = document.getElementById('terminal-input');

            terminalInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    const command = this.value;
                    terminalOutput.innerHTML += `<div>> ${command}</div>`;
                    executeCommand(command);
                    this.value = '';
                }
            });

            function executeCommand(command) {
                let output = '';
                switch(command.toLowerCase()) {
                    case 'help':
                        output = 'Comandos disponíveis: help, clear, date, echo [texto]';
                        break;
                    case 'clear':
                        terminalOutput.innerHTML = '';
                        return;
                    case 'date':
                        output = new Date().toString();
                        break;
                    default:
                        if (command.toLowerCase().startsWith('echo ')) {
                            output = command.slice(5);
                        } else {
                            output = `Comando não reconhecido: ${command}`;
                        }
                }
                terminalOutput.innerHTML += `<div>${output}</div>`;
                terminalOutput.scrollTop = terminalOutput.scrollHeight;
            }

            // Inicializar a lista de tarefas
            window.addTask = function() {
                const taskInput = document.getElementById('task-input');
                const taskList = document.getElementById('task-list');
                if (taskInput.value.trim() !== '') {
                    const li = document.createElement('li');
                    li.className = 'task-item';
                    li.innerHTML = `
                        <span>${taskInput.value}</span>
                        <button onclick="removeTask(this)">Remover</button>
                    `;
                    taskList.appendChild(li);
                    taskInput.value = '';
                }
            };

            window.removeTask = function(button) {
                button.parentElement.remove();
            };

            // Inicializar a previsão do tempo (simulada)
            function updateWeather() {
                const weatherIcons = ['☀️', '⛅', '☁️', '🌧️', '⛈️', '❄️'];
                const randomIcon = weatherIcons[Math.floor(Math.random() * weatherIcons.length)];
                const randomTemp = Math.floor(Math.random() * 30) + 10; // 10°C a 40°C
                const descriptions = ['Ensolarado', 'Parcialmente nublado', 'Nublado', 'Chuvoso', 'Tempestuoso', 'Nevando'];
                const randomDescription = descriptions[weatherIcons.indexOf(randomIcon)];

                document.getElementById('weather-icon').textContent = randomIcon;
                document.getElementById('temperature').textContent = `${randomTemp}°C`;
                document.getElementById('description').textContent = randomDescription;
            }
            updateWeather();
            setInterval(updateWeather, 60000); // Atualiza a cada minuto

            // Inicializar o Pomodoro Timer
            let pomodoroInterval;
            let pomodoroTime = 25 * 60; // 25 minutos

            function updatePomodoroDisplay() {
                const minutes = Math.floor(pomodoroTime / 60);
                const seconds = pomodoroTime % 60;
                document.getElementById('pomodoro-timer').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }

            window.startPomodoro = function() {
                clearInterval(pomodoroInterval);
                pomodoroInterval = setInterval(() => {
                    if (pomodoroTime > 0) {
                        pomodoroTime--;
                        updatePomodoroDisplay();
                    } else {
                        clearInterval(pomodoroInterval);
                        alert('Tempo esgotado!');
                    }
                }, 1000);
            };

            window.pausePomodoro = function() {
                clearInterval(pomodoroInterval);
            };

            window.resetPomodoro = function() {
                clearInterval(pomodoroInterval);
                pomodoroTime = 25 * 60;
                updatePomodoroDisplay();
            };

            // Inicializar o jogo
            const gameCanvas = document.getElementById('game-canvas');
            const gameCtx = gameCanvas.getContext('2d');
            let player = { x: 200, y: 150, size: 20, speed: 5 };
            let gameLoop;

            function drawPlayer() {
                gameCtx.fillStyle = 'blue';
                gameCtx.fillRect(player.x, player.y, player.size, player.size);
            }

            function clearGame() {
                gameCtx.clearRect(0, 0, gameCanvas.width, gameCanvas.height);
            }

            function updateGame() {
                clearGame();
                drawPlayer();
            }

            window.startGame = function() {
                if (gameLoop) clearInterval(gameLoop);
                gameLoop = setInterval(updateGame, 1000 / 60); // 60 FPS
            };

            document.addEventListener('keydown', function(e) {
                switch(e.key) {
                    case 'ArrowUp':
                        if (player.y > 0) player.y -= player.speed;
                        break;
                    case 'ArrowDown':
                        if (player.y < gameCanvas.height - player.size) player.y += player.speed;
                        break;
                    case 'ArrowLeft':
                        if (player.x > 0) player.x -= player.speed;
                        break;
                    case 'ArrowRight':
                        if (player.x < gameCanvas.width - player.size) player.x += player.speed;
                        break;
                }
            });
        });

        // Funções da calculadora
        function appendToDisplay(value) {
            document.getElementById("calculator-display").value += value;
        }

        function clearDisplay() {
            document.getElementById("calculator-display").value = "";
        }

        function calculateResult() {
            try {
                const result = eval(document.getElementById("calculator-display").value);
                document.getElementById("calculator-display").value = result;
            } catch (error) {
                document.getElementById("calculator-display").value = "Erro";
            }
        }

        // Função do navegador
        function loadURL() {
            const url = document.getElementById("url-bar").value;
            document.getElementById("browser-frame").src = url.startsWith("http") ? url : `https://${url}`;
        }

        // Função para abrir aplicativos
        function openApp(appId) {
            $(`#${appId}`).show().css('z-index', 101);
            $(".window").not(`#${appId}`).css('z-index', 100);
            updateTaskbar();
        }

        // Função para atualizar a barra de tarefas
        function updateTaskbar() {
            const openWindows = $(".window:visible");
            $("#open-windows").empty();
            openWindows.each(function() {
                const appId = $(this).attr('id');
                const appName = $(this).find('.window-title').text();
                $("#open-windows").append(`<div class="taskbar-item" data-app="${appId}">${appName}</div>`);
            });

            $(".taskbar-item").on("click", function() {
                const appId = $(this).data("app");
                $(`#${appId}`).toggle();
            });
        }
    </script>
</body>
</html>
